(this.webpackJsonpcourseinfo=this.webpackJsonpcourseinfo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(13),l=t.n(c),r=t(2),u=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:e.addName},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var n=e.person,t=e.deleteButton;return o.a.createElement("div",null,n.name," ",n.number,o.a.createElement("button",{onClick:t}," delete"))},m=function(e){return o.a.createElement("div",null,"filter shown with ",o.a.createElement("input",{onChange:e.handleFilterWords}))},d=t(3),f=t.n(d),s="/api/persons",h=function(){return f.a.get(s).then((function(e){return e.data}))},g=function(e){return f.a.post(s,e).then((function(e){return e.data}))},b=function(e,n){return f.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},E=function(e){return f.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return e.filter((function(e){return function(e,n){var t=new RegExp(n,"i");console.log(t);var a=e.slice(0,n.length);return console.log(e,a),!!a.match(t)}(e.name,n)}))},p=function(e){var n=e.message,t=e.notificationType;return null===n||null===t?null:"Notification"===t?o.a.createElement("div",null,o.a.createElement("p",{className:"notification"},n)):"Error"===t?o.a.createElement("div",null,o.a.createElement("p",{className:"error"},n)):void 0},w=(t(36),function(){var e,n=Object(a.useState)([]),t=Object(r.a)(n,2),c=t[0],l=t[1],d=Object(a.useState)("Martin Fowler"),f=Object(r.a)(d,2),s=f[0],w=f[1],N=Object(a.useState)("39-44-5324523"),j=Object(r.a)(N,2),O=j[0],C=j[1],k=Object(a.useState)(""),y=Object(r.a)(k,2),F=y[0],S=y[1],T=Object(a.useState)(null),B=Object(r.a)(T,2),D=B[0],x=B[1],I=Object(a.useState)(null),J=Object(r.a)(I,2),R=J[0],W=J[1];Object(a.useEffect)((function(){h().then((function(e){l(e)}))}),[]);return 0===F.length?e=c:(e=v(c,F),console.log(e)),o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(p,{message:D,notificationType:R}),o.a.createElement(m,{handleFilterWords:function(e){console.log(e.target.value),S(e.target.value)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement(u,{addName:function(e){e.preventDefault();var n=c.find((function(e){return e.name===s}));if(console.log(n),n){if(window.confirm("".concat(s," is already added to the phonebook. Replace the old number with a new one?"))){var t=n.id,a={name:s,number:O};b(t,a).then((function(e){l(c.map((function(n){return n.id!==t?n:e}))),x("Updated ".concat(e.name)),W("Notification"),setTimeout((function(){x(null)}),5e3)})).catch((function(e){console.log("Failed to update"),x("Information of ".concat(a.name," has already been removed from the server")),W("Error"),setTimeout((function(){x(null)}),5e3)}))}}else g({name:s,number:O}).then((function(e){l(c.concat(e)),w(""),C(""),x("Added ".concat(e.name)),W("Notification"),setTimeout((function(){x(null)}),5e3)})).catch((function(e){console.log("Failed to add new name")})),console.log("button clicked",e.target)},newName:s,handleNameChange:function(e){console.log(e.target.value),w(e.target.value),console.log("new name changed",s)},newNumber:O,handleNumberChange:function(e){console.log(e.target.value),C(e.target.value),console.log("new name changed",s)}}),o.a.createElement("h2",null,"Numbers"),e.map((function(e){return o.a.createElement(i,{key:e.name,person:e,deleteButton:function(){return function(e){var n=e.id;window.confirm("Delete ".concat(e.name,"?"))&&E(n).then((function(){l(c.filter((function(e){return e.id!==n}))),x("Deleted ".concat(e.name)),W("Notification"),setTimeout((function(){x(null)}),5e3)})).catch((function(e){return console.log("Failed to delete")}))}(e)}})})))});l.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7d5f26bd.chunk.js.map